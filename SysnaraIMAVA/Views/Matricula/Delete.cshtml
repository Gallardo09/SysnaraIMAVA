@model SysnaraIMAVA.Models.Matricula

<!-- Referencias para SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">

@{
    ViewData["Title"] = "Eliminar Matrícula";
}

<div class="container mt-4">
    <h2 class="text-center mb-4" style="font-family: 'Russo One', sans-serif; color: #dc3545;">Eliminar Matrícula</h2>

    <div class="card shadow">
        <div class="card-header bg-danger text-white">
            <h4 class="card-title mb-0">¿Estás seguro de que deseas eliminar esta matrícula?</h4>
        </div>
        <div class="card-body">
            <!-- Sección de Datos del Padre -->
            <div class="mb-4">
                <h5 class="text-primary mb-3">Datos del Padre de Familia</h5>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>ID Padre:</strong> @Html.DisplayFor(model => model.Idpadre)</p>
                        <p><strong>Nombre:</strong> @Html.DisplayFor(model => model.NombrePadre)</p>
                        <p><strong>Parentesco:</strong> @Html.DisplayFor(model => model.Parentesco)</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Teléfono:</strong> @Html.DisplayFor(model => model.TelefonoPadre)</p>
                        <p><strong>Celular:</strong> @Html.DisplayFor(model => model.CelPadre)</p>
                        <p><strong>Dirección:</strong> @Html.DisplayFor(model => model.DireccionPadre)</p>
                    </div>
                </div>
            </div>

            <!-- Línea divisoria -->
            <hr class="my-4" />

            <!-- Sección de Datos del Estudiante -->
            <div class="mb-4">
                <h5 class="text-success mb-3">Datos del Estudiante</h5>
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Nombre:</strong> @Html.DisplayFor(model => model.NombreEstudiante)</p>
                        <p><strong>Fecha de Nacimiento:</strong> @Html.DisplayFor(model => model.FechaNacimiento)</p>
                        <p><strong>Lugar de Nacimiento:</strong> @Html.DisplayFor(model => model.LugarNacimiento)</p>
                        <p><strong>Género:</strong> @Html.DisplayFor(model => model.Genero)</p>
                        <p><strong>Tipo de Sangre:</strong> @Html.DisplayFor(model => model.TipoSangre)</p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Alergias:</strong> @Html.DisplayFor(model => model.Alergia)</p>
                        <p><strong>Edad:</strong> @Html.DisplayFor(model => model.Edad)</p>
                        <p><strong>Teléfono:</strong> @Html.DisplayFor(model => model.TelefonoEstudiante)</p>
                        <p><strong>Celular:</strong> @Html.DisplayFor(model => model.CelularEstudiante)</p>
                        <p><strong>Correo:</strong> @Html.DisplayFor(model => model.Correo)</p>
                        <p><strong>Dirección:</strong> @Html.DisplayFor(model => model.Direccion)</p>
                    </div>
                </div>
            </div>

            <!-- Línea divisoria -->
            <hr class="my-4" />
        </div>
    </div>

    <!-- Botones de Acción -->
    <div class="text-center mt-4">
        <form asp-action="Delete">
            <input type="hidden" asp-for="Idest" />
            <button type="submit" class="btn btn-danger btn-lg">
                <i class="fas fa-trash-alt"></i> Eliminar
            </button>
            <a class="btn btn-warning btn-lg ml-2" asp-action="Index">
                <i class="fas fa-arrow-left"></i> Regresar a la Lista
            </a>
        </form>
    </div>
</div>

<!-- Estilos Personalizados -->
<style>
    .photo-frame {
        width: 100%;
        height: 300px;
        border: 2px solid #ddd;
        background-color: #f8f9fa;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
        overflow: hidden;
    }

        .photo-frame img {
            max-width: 100%;
            max-height: 100%;
            object-fit: cover;
        }

    .card {
        border: none;
        border-radius: 10px;
    }

    .card-header {
        border-radius: 10px 10px 0 0;
    }

    .card-body {
        padding: 20px;
    }

    h5 {
        font-weight: bold;
        margin-bottom: 15px;
    }

    p {
        margin-bottom: 10px;
        color: #555;
    }

    strong {
        color: #333;
    }

    .btn-lg {
        padding: 10px 20px;
        font-size: 1.1rem;
    }

    hr {
        border-top: 2px solid #eee;
    }
</style>

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
        $(document).ready(function() {
            // Verificar si hay mensaje de éxito
            if ('@ViewBag.DeleteSuccess' === 'True') {
                Swal.fire({
                    icon: 'success',
                    title: '¡Eliminado!',
                    text: 'La matrícula ha sido eliminada correctamente.',
                    confirmButtonColor: '#3085d6',
                    confirmButtonText: 'OK'
                }).then((result) => {
                    if (result.isConfirmed) {
                        window.location.href = '@Url.Action("Index")';
                    }
                });
            }

            // Verificar si hay mensaje de error
            if ('@ViewBag.DeleteError' !== '') {
                Swal.fire({
                    icon: 'error',
                    title: 'Error',
                    text: '@ViewBag.DeleteError',
                    confirmButtonColor: '#3085d6',
                    confirmButtonText: 'OK'
                });
            }
        });
    </script>
}